{
  "permissions": {
    "allow": [
      "Bash(done)",
      "Bash(dir:*)",
      "Bash(npm create:*)",
      "Bash(npm install)",
      "Bash(npm install:*)",
      "Bash(npx tailwindcss init:*)",
      "Bash(for:*)",
      "Bash(do cp \"$file\" \"Â§ñÁΩë-react/src/styles/\")",
      "Bash(find:*)",
      "Bash(npm run dev:*)",
      "Bash(npm uninstall:*)",
      "Bash(npx tsc:*)",
      "Bash(pkill:*)",
      "Bash(curl -I http://localhost:5173/)",
      "Bash(curl http://localhost:5173/services-detail-1)",
      "Bash(curl:*)",
      "Bash(gh repo create:*)",
      "Bash(git remote add:*)",
      "Bash(git push:*)",
      "Bash(git pull:*)",
      "Bash(git checkout:*)",
      "Bash(git rm:*)",
      "Bash(git add:*)",
      "Bash(git commit -m \"$(cat <<''EOF''\nsecurity: Phase 1 - Fix CRITICAL vulnerabilities #1, #2, #3, #7\n\nFixes 4 critical security vulnerabilities:\n\n1. CRITICAL #1: Firebase Security Rules\n   - Created secure Firestore rules with RBAC\n   - Owner can access all clinics\n   - Admin can only access assigned clinics\n   - Customers can only access own appointments\n   - Added detailed deployment guide\n\n2. CRITICAL #2: Exposed API Keys\n   - Migrated hardcoded API keys to environment variables\n   - Created .env.example template for React app\n   - Created firebase-config.template.js for intranet\n   - Updated .gitignore to prevent committing sensitive files\n   - Added comprehensive setup guide with key rotation instructions\n\n3. CRITICAL #7: Anonymous Authentication\n   - Removed firebase-auth-setup.js files\n   - Disabled anonymous auth capability\n   - Created guide for Firebase Console configuration\n   - Enforces real authentication for intranet access\n\n4. CRITICAL #3: Server-side Role Management\n   - Created Custom Claims implementation guide\n   - Documented 4 different approaches (Cloud Functions, Extensions, Backend, CLI)\n   - Includes code samples for each approach\n   - Prevents client-side privilege escalation\n\nChanges:\n- Added: ÂÜÖÁΩë/firebase-rules-secure.txt (secure Firestore rules)\n- Added: ÂÜÖÁΩë/FIREBASE-RULES-DEPLOYMENT.md\n- Added: Â§ñÁΩë-react/.env.example\n- Modified: Â§ñÁΩë-react/src/config/firebase.ts (use env variables)\n- Modified: .gitignore (protect sensitive configs)\n- Deleted: ÂÜÖÁΩë/firebase-auth-setup.js\n- Deleted: Â§ñÁΩë-react/public/ÂÜÖÁΩë/firebase-auth-setup.js\n- Added: FIREBASE-API-KEY-SETUP.md\n- Added: DISABLE-ANONYMOUS-AUTH.md\n- Added: CUSTOM-CLAIMS-SETUP.md\n- Added: ÂÜÖÁΩë/firebase-config.template.js\n\nBREAKING CHANGES:\n- API keys must be configured in .env.local before running\n- Firebase Security Rules must be deployed\n- Anonymous auth no longer works (by design)\n- Custom Claims need to be implemented for full security\n\nü§ñ Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(git commit:*)",
      "Bash(gh pr create:*)",
      "Bash(git branch:*)",
      "Bash(test:*)",
      "Bash(git log:*)",
      "Bash(nul)",
      "Bash(git fetch:*)",
      "Bash(temp_optimization_guide.md)",
      "Bash(findstr:*)",
      "Bash(mkdir:*)",
      "Bash(npm run optimize:images:*)",
      "Bash(npm run build:*)",
      "Bash(do if [ -f \"$img\" ])",
      "Bash(then echo -n \"$img: \")",
      "Bash(if [ -f \"$img%.jpg.webp\" ])",
      "Bash(then echo \"‚úÖ has WebP\")",
      "Bash(else echo \"‚ùå NO WebP\")",
      "Bash(fi)",
      "Bash(do if [ -f \"$f.webp\" ])",
      "Bash(then echo \"$f: ‚úÖ has WebP\")",
      "Bash(else echo \"$f: ‚ùå NO WebP\")",
      "Bash(node -e:*)",
      "Bash(cat:*)",
      "Bash(node scripts/compress-intranet.js:*)",
      "Bash(node scripts/update-html-references.js:*)",
      "Bash(node -c:*)"
    ],
    "deny": [],
    "ask": []
  }
}

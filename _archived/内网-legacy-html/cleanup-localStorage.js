console.log('=== Cleaning localStorage of Ma Lu and other test data ==='); const data = JSON.parse(localStorage.getItem('dental_clinic_data') || '{}'); let cleaned = false; if (data.appointments) { Object.keys(data.appointments).forEach(date => { if (data.appointments[date]) { const original = data.appointments[date].length; data.appointments[date] = data.appointments[date].filter(app => { const keep = \!app.patientName || \!app.patientName.toLowerCase().includes('ma lu'); if (\!keep) console.log('Removing Ma Lu appointment from', date, ':', app); return keep; }); if (data.appointments[date].length \!== original) cleaned = true; if (data.appointments[date].length === 0) delete data.appointments[date]; } }); } if (cleaned) { localStorage.setItem('dental_clinic_data', JSON.stringify(data)); console.log('✅ localStorage cleaned and saved'); } else { console.log('ℹ️ No Ma Lu data found to clean'); } console.log('=== Cleanup complete ===');
